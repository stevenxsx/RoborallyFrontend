{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\Shroom\\\\IdeaProjects\\\\RoborallyFrontend\\\\roborally_frontend\\\\src\\\\components\\\\BoardComponent.tsx\",\n    _s = $RefreshSig$();\n\nimport React, { useContext, useState } from \"react\";\nimport { SpaceComponent } from \"./SpaceComponent\";\nimport styles from \"../styling/BoardComponent.module.scss\"; //Import css module\n\nimport GameContext from \"../context/GameContext\";\nimport { Typography } from \"@material-ui/core\";\nimport { deepPurple, green, lightBlue, red, yellow } from '@material-ui/core/colors';\nimport { makeStyles, createStyles } from '@material-ui/core/styles';\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\n/*\nIf the board component took any props/arguments they would be declared inside the type below\nsee the space component for an example.\n */\n\n/**\n * @author s205444, Lucas\n */\nconst useStyles = makeStyles(theme => createStyles({\n  root: {\n    display: 'flex',\n    '& > *': {\n      margin: theme.spacing(1)\n    }\n  },\n  purple: {\n    color: theme.palette.getContrastText(deepPurple[500]),\n    backgroundColor: deepPurple[500]\n  },\n  red: {\n    color: theme.palette.getContrastText(red[500]),\n    backgroundColor: red[500]\n  },\n  green: {\n    color: theme.palette.getContrastText(green[500]),\n    backgroundColor: green[500]\n  },\n  blue: {\n    color: theme.palette.getContrastText(lightBlue[500]),\n    backgroundColor: lightBlue[500]\n  },\n  yellow: {\n    color: theme.palette.getContrastText(yellow[500]),\n    backgroundColor: yellow[500]\n  }\n}));\n\nconst BoardComponent = () => {\n  _s();\n\n  //{...} context is known as object destructuring\n  const {\n    games,\n    createPlayer,\n    board,\n    loaded,\n    unselectGame,\n    startGame,\n    endGame\n  } = useContext(GameContext); //Hook form of Context.Consumer, used to access the context\n\n  let [join, setJoin] = useState(false);\n  let [start, setStart] = useState(false); // Major hack to find out which game is being used in this instance\n\n  let game = games.find(game => game.gameId === board.boardId);\n\n  if (game === undefined) {\n    var users = [];\n    game = {\n      gameName: \"null\",\n      gameId: 500,\n      gameStarted: false,\n      gameUsers: users\n    };\n  } else {\n    // Sets local var of game to actual status\n    start = game.gameStarted;\n  }\n\n  const {\n    user\n  } = useContext(GameContext);\n  const {\n    changeUserID\n  } = useContext(GameContext);\n  const {\n    addUserToBackEnd\n  } = useContext(GameContext);\n  const classes = useStyles();\n\n  const onSetJoin = () => {\n    setJoin(true);\n\n    if (game !== undefined) {\n      addUserToBackEnd(game.gameId, user.playerName);\n    }\n  };\n\n  const onClickCreate = () => {\n    if (game !== undefined) {\n      createPlayer(game);\n    }\n  };\n\n  const onSetLeave = () => {\n    setJoin(false);\n  };\n\n  const onSetStart = () => {\n    if (game !== undefined) {\n      startGame(game).then(() => setStart(true)).catch(() => setStart(false));\n    }\n  };\n\n  const onSetEnd = () => {\n    let game;\n    game = games.find(game => game.gameId === board.boardId);\n\n    if (game === undefined) {\n      console.log(\"Game could not be found in map\");\n    } else {\n      endGame(game);\n      setStart(false);\n    }\n  };\n\n  const onBack = () => {\n    setJoin(false);\n    unselectGame();\n  };\n\n  return loaded ? /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.centerAll,\n    children: [/*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      align: \"center\",\n      children: [\"Game \", game.gameName, \" \"]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 17\n    }, this), !start ? /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      align: \"center\",\n      children: \"Welcome to roborally\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      align: \"center\",\n      children: \"Game is on \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h6\",\n      align: \"left\",\n      children: \"Users in this game: \"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 17\n    }, this), game.gameUsers.map((user, index) => /*#__PURE__*/_jsxDEV(ListItem, {\n      children: /*#__PURE__*/_jsxDEV(ListItemText, {\n        primary: user.playerName\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 21\n      }, this)\n    }, index, false, {\n      fileName: _jsxFileName,\n      lineNumber: 142,\n      columnNumber: 54\n    }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 150,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 151,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: styles.container,\n      children: board.spaceDtos.map((spaceArray, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n        children: spaceArray.map((space, index) => /*#__PURE__*/_jsxDEV(SpaceComponent, {\n          space: space\n        }, \"space\" + index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 156,\n          columnNumber: 66\n        }, this))\n      }, \"spaceArray\" + index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 25\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"body1\",\n      children: [\"Current user: \", user.playerName]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 162,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"subtitle1\",\n      children: \"Choose a player\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 21\n    }, this), board.playerDtos.map((user, index) => /*#__PURE__*/_jsxDEV(\"button\", {\n      color: \"primary\",\n      onClick: () => changeUserID(user.playerId),\n      children: [\" \", user.playerColor]\n    }, index, true, {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 60\n    }, this)), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 172,\n      columnNumber: 17\n    }, this), !join ? /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.blue,\n      color: \"primary\",\n      onClick: onSetJoin,\n      children: \"Join\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 174,\n      columnNumber: 21\n    }, this) : /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.red,\n      color: \"primary\",\n      onClick: onSetLeave,\n      children: \"Leave\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 180,\n      columnNumber: 21\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.blue,\n      color: \"primary\",\n      onClick: onClickCreate,\n      children: \"New player\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.green,\n      color: \"primary\",\n      onClick: onSetStart,\n      children: \"Start\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 190,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.yellow,\n      color: \"primary\",\n      onClick: onSetEnd,\n      children: \"End Game\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      className: classes.red,\n      color: \"primary\",\n      onClick: onBack,\n      children: \"Back to Games\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 198,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"h5\",\n      children: \"Game info\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 203,\n      columnNumber: 17\n    }, this), /*#__PURE__*/_jsxDEV(Typography, {\n      variant: \"subtitle1\",\n      children: \"Board: \" + board.boardId\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 204,\n      columnNumber: 17\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 131,\n    columnNumber: 13\n  }, this) : /*#__PURE__*/_jsxDEV(\"div\", {}, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 211,\n    columnNumber: 13\n  }, this);\n};\n\n_s(BoardComponent, \"5f+tkiTnxpJrppk5r6LIBGsmXT0=\", false, function () {\n  return [useStyles];\n});\n\n_c = BoardComponent;\nexport default BoardComponent;\n\nvar _c;\n\n$RefreshReg$(_c, \"BoardComponent\");","map":{"version":3,"sources":["C:/Users/Shroom/IdeaProjects/RoborallyFrontend/roborally_frontend/src/components/BoardComponent.tsx"],"names":["React","useContext","useState","SpaceComponent","styles","GameContext","Typography","deepPurple","green","lightBlue","red","yellow","makeStyles","createStyles","ListItem","ListItemText","useStyles","theme","root","display","margin","spacing","purple","color","palette","getContrastText","backgroundColor","blue","BoardComponent","games","createPlayer","board","loaded","unselectGame","startGame","endGame","join","setJoin","start","setStart","game","find","gameId","boardId","undefined","users","gameName","gameStarted","gameUsers","user","changeUserID","addUserToBackEnd","classes","onSetJoin","playerName","onClickCreate","onSetLeave","onSetStart","then","catch","onSetEnd","console","log","onBack","centerAll","map","index","container","spaceDtos","spaceArray","space","playerDtos","playerId","playerColor"],"mappings":"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","sourcesContent":["import React, { FunctionComponent, useContext, useState } from \"react\";\nimport { SpaceComponent } from \"./SpaceComponent\";\nimport styles from \"../styling/BoardComponent.module.scss\" //Import css module\nimport GameContext from \"../context/GameContext\";\nimport { Typography, Button } from \"@material-ui/core\";\nimport { Game } from \"../types/Game\";\nimport { User } from \"../types/User\";\nimport {deepPurple, green, lightBlue, red, yellow} from '@material-ui/core/colors';\nimport { makeStyles, createStyles, Theme } from '@material-ui/core/styles';\nimport ListItem from \"@material-ui/core/ListItem\";\nimport ListItemText from \"@material-ui/core/ListItemText\";\nimport ListItemAvatar from \"@material-ui/core/ListItemAvatar\";\nimport Avatar from \"@material-ui/core/Avatar\";\nimport PlayerIcon from \"@material-ui/icons/Person\";\n\n/*\nIf the board component took any props/arguments they would be declared inside the type below\nsee the space component for an example.\n */\n\n/**\n * @author s205444, Lucas\n */\n\nconst useStyles = makeStyles((theme: Theme) =>\n    createStyles({\n        root: {\n            display: 'flex',\n            '& > *': {\n                margin: theme.spacing(1),\n            },\n        },\n        purple: {\n            color: theme.palette.getContrastText(deepPurple[500]),\n            backgroundColor: deepPurple[500],\n        },\n        red: {\n            color: theme.palette.getContrastText(red[500]),\n            backgroundColor: red[500],\n        },\n        green: {\n            color: theme.palette.getContrastText(green[500]),\n            backgroundColor: green[500],\n        },\n        blue: {\n            color: theme.palette.getContrastText(lightBlue[500]),\n            backgroundColor: lightBlue[500],\n        },\n        yellow: {\n            color: theme.palette.getContrastText(yellow[500]),\n            backgroundColor: yellow[500],\n        }\n    }),\n);\n\ntype BoardComponentProps = {}\nconst BoardComponent: FunctionComponent<BoardComponentProps> = () => {\n    //{...} context is known as object destructuring\n    const { games, createPlayer, board, loaded, unselectGame, startGame, endGame } = useContext(GameContext) //Hook form of Context.Consumer, used to access the context\n\n    let [join, setJoin] = useState(false);\n    let [start, setStart] = useState(false);\n    // Major hack to find out which game is being used in this instance\n    let game = games.find(game => game.gameId === board.boardId);\n    if (game === undefined) {\n        var users: User[] = [];\n        game = {\n            gameName: \"null\",\n            gameId: 500,\n            gameStarted: false,\n            gameUsers: users\n        };\n    } else {\n        // Sets local var of game to actual status\n        start = game.gameStarted\n    }\n\n    const {user} = useContext(GameContext)\n\n    const {changeUserID} = useContext(GameContext)\n\n    const {addUserToBackEnd} = useContext(GameContext)\n\n\n    const classes = useStyles();\n\n    const onSetJoin = () => {\n        setJoin(true);\n        if(game !== undefined) {\n            addUserToBackEnd(game.gameId, user.playerName)\n        }\n    }\n\n    const onClickCreate = () => {\n        if (game !== undefined) {\n            createPlayer(game)\n        }\n    }\n\n    const onSetLeave = () => {\n        setJoin(false);\n    }\n    const onSetStart = () => {\n        if (game !== undefined) {\n            startGame(game).then(() =>\n                setStart(true)\n            ).catch(() =>\n                setStart(false)\n            );\n        }\n    }\n    const onSetEnd = () => {\n        let game: Game | undefined;\n        game = games.find(game => game.gameId === board.boardId);\n        if (game === undefined) {\n            console.log(\"Game could not be found in map\")\n        } else {\n            endGame(game);\n            setStart(false);\n        }\n    }\n\n    const onBack = () => {\n        setJoin(false);\n        unselectGame();\n    }\n\n\n    return (\n        loaded ?\n            <div className={styles.centerAll}>\n\n\n                <Typography variant=\"h5\" align=\"center\" >Game {game.gameName} </Typography>\n                {!start ?\n                    <Typography variant=\"h5\" align=\"center\" >Welcome to roborally</Typography>\n\n                    :\n                    <Typography variant=\"h5\" align=\"center\" >Game is on </Typography>\n                }\n                <Typography variant=\"h6\" align=\"left\" >Users in this game: </Typography>\n                {game.gameUsers.map((user, index) => <ListItem key={index}>\n\n\n                    <ListItemText\n                        primary={user.playerName}\n                    />\n                </ListItem>)}\n\n                <br />\n                <br />\n                <div className={styles.container}>\n                    {board.spaceDtos.map((spaceArray, index) =>\n                        <div key={\"spaceArray\" + index}>\n                            {\n                                spaceArray.map((space, index) => <SpaceComponent key={\"space\" + index} space={space} />)\n                            }\n                        </div>\n                    )\n                    }\n                </div>\n                <Typography variant=\"body1\">Current user: {user.playerName}</Typography>\n\n                    <Typography variant=\"subtitle1\">Choose a player</Typography>\n                    {board.playerDtos.map((user, index) => <button color={\"primary\"} key={index}\n                                                                 onClick={() => changeUserID(user.playerId)}> {user.playerColor}</button>)\n                    }\n\n\n\n\n                <br/>\n                {!join ?\n                    <button className={classes.blue}   color=\"primary\" onClick={onSetJoin}  >\n                        Join\n                    </button>\n\n                    :\n\n                    < button className={classes.red}  color=\"primary\" onClick={onSetLeave}  >\n                        Leave\n                    </button>\n                }\n\n                <button className={classes.blue} color=\"primary\" onClick={onClickCreate}>\n                    New player\n                </button>\n\n\n                <button className={classes.green} color=\"primary\" onClick={onSetStart}  >\n                    Start\n                </button>\n\n                <button className={classes.yellow} color=\"primary\" onClick={onSetEnd}  >\n                    End Game\n                </button>\n\n                <button className={classes.red} color=\"primary\" onClick={onBack}>\n                    Back to Games\n                </button>\n\n\n                <Typography variant=\"h5\">Game info</Typography>\n                <Typography variant=\"subtitle1\">{\"Board: \" + board.boardId}</Typography>\n\n\n\n\n            </div >\n            :\n            <div />\n    )\n}\n\nexport default BoardComponent\n\n\n"]},"metadata":{},"sourceType":"module"}